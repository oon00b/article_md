<!DOCTYPE html><html lang="ja" dir="ltr"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><link href="https://creativecommons.org/licenses/by/4.0/" rel="license"><title>vimで式の結果をsourceする方法</title><link href="../../../css/post.css" rel="stylesheet"><link href="../../../css/highlight.css" rel="stylesheet"></head><body><nav class="navigation">[<a href="../../../">Home</a>] [<a href="../../../blog">Blog</a>] [<a href="../../../about">About</a>]</nav><main class="main"><article class="post"><header class="post-header"><h1 class="post-title"><a href="../../../blog/2020/02/vim-source-expr.html">vimで式の結果をsourceする方法</a></h1><time class="post-date" datetime="2020-02-06">2020-02-06</time><div class="post-tags"> tags: [vim]</div></header><div class="post-body"><p>ハマったので書き残しておく。</p><p>例えば、グローバル変数<code>g:foo</code>にsourceしたいファイルのパスが代入されているとして、普通に<code>source g:foo</code>とすると<code>g:foo</code>がそのままファイル名と解釈されてエラーになる。</p><pre class="vimscript"><code>let g:foo = &quot;/foo/bar.vim&quot;

&quot;error E484
source g:foo</code></pre><p>vimscriptの式の結果をファイル名として渡したいときは、式を<code>`=</code> ~ <code>`</code>で囲んでやればいいらしい。</p><pre class="vimscript"><code>source `=g:foo`</code></pre><h2 id="参考">参考</h2><pre class="vimscript"><code>:help `=</code></pre></div></article></main><footer class="footer">この文書は<a href="https://creativecommons.org/licenses/by/4.0/" rel="license">クリエイティブ・コモンズ 表示 4.0 国際 ライセンス</a>の下に提供されています。</footer></body></html>